import socket
sock = socket.socket()
sock.bind(('localhost',10150))


while True:
    sock.listen(1)
    conn, addr = sock.accept()
    data = conn.recv(1024)

    if not data:
        break
    conn.send(data.upper())
    print(data.decode())
    if data.decode() == "close":
        conn.close()
        sock.close()
        break
